/*! bga-effortlesswc 2024-06-27 */
var __extends=this&&this.__extends||function(){var c=function(e,t){return(c=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}))(e,t)};return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),GameBody=function(t){function e(){var e=t.call(this)||this;return console.log("effortlesswc constructor"),e}return __extends(e,t),e.prototype.setup=function(e){for(var t in console.log("Starting game setup"),e.players)e.players.hasOwnProperty(t)&&(t=e.players[t],console.log(t));this.setupPlayArea(),this.setupNotifications(),console.log("Ending game setup")},e.prototype.setupPlayArea=function(){for(var o=this,e=0;e<6;++e)dojo.place(this.format_block("jstpl_setloc_panel",{classes:"",id:"ewc_setloc_panel_"+e}),$("ewc_setlocarea_column_"+e%2));document.querySelector("#ewc_setloc_panel_0 .ewc_setloc_location").classList.add("location_cabin"),document.querySelector("#ewc_setloc_panel_1 .ewc_setloc_location").classList.add("location_forest"),document.querySelector("#ewc_setloc_panel_2 .ewc_setloc_location").classList.add("location_garden"),document.querySelector("#ewc_setloc_panel_3 .ewc_setloc_location").classList.add("location_river"),document.querySelector("#ewc_setloc_panel_4 .ewc_setloc_location").classList.add("location_stables"),document.querySelector("#ewc_setloc_panel_5 .ewc_setloc_location").classList.add("location_city"),document.querySelector("#ewc_setloc_panel_0 .ewc_setloc_setting").classList.add("setting_battling"),document.querySelector("#ewc_setloc_panel_1 .ewc_setloc_setting").classList.add("setting_secret"),document.querySelector("#ewc_setloc_panel_2 .ewc_setloc_setting").classList.add("setting_traveling"),document.querySelector("#ewc_setloc_panel_3 .ewc_setloc_setting").classList.add("setting_active"),document.querySelector("#ewc_setloc_panel_4 .ewc_setloc_setting").classList.add("setting_eerie"),document.querySelector("#ewc_setloc_panel_5 .ewc_setloc_setting").classList.add("setting_starved"),console.log("*** qsa ***"),document.querySelectorAll(".tmp_scalable").forEach(function(e){var t=e;t.classList.contains("tmp_scaled")||(t.classList.add("tmp_scaled"),console.log("*** qsa foreach",e),o.rescaleSprite(t,.5))}),document.querySelectorAll(".tmp_scalable_cube").forEach(function(e){e.classList.contains("tmp_scaled_cube")||(e.classList.add("tmp_scale_cube"),o.rescaleSpriteCube(e,.6))}),document.querySelectorAll(".tmp_tintable").forEach(function(e){e.classList.contains("tmp_tinted")||(e.classList.add("tmp_tinted"),e.classList.contains("ewc_playercolor_teal")&&o.tintSprite(e,"#00b796"),e.classList.contains("ewc_playercolor_pink")&&o.tintSprite(e,"#ff5fa2"))})},e.prototype.rescaleSprite=function(e,t){e.style.height=363.6*t+"px",e.style.width=233.4*t+"px";var o=3334.2*t+"px "+3328.2*t+"px";console.log("*** bgSize = ",o),e.style.backgroundSize=o,e.style.backgroundPosition=-700.2*t+"px "+-1090.8*t+"px"},e.prototype.rescaleSpriteCube=function(e,t){console.log("** rescaleSpriteCube()",e,t),e.style.height=30*t+"px",e.style.width=30*t+"px";var o=312*t+"px "+302.4*t+"px",o=(console.log("*** bgSize = ",o),e.style.backgroundSize=o,e.style.maskSize=o,-276*t+"px "+-121.2*t+"px");e.style.backgroundPosition=o,e.style.maskPosition=o},e.prototype.tintSprite=function(e,t){e.style.backgroundBlendMode="multiply",e.style.backgroundColor=t},e.prototype.onEnteringState=function(e,t){console.log("Entering state",e,t)},e.prototype.onLeavingState=function(e){console.log("Leaving state: "+e)},e.prototype.onUpdateActionButtons=function(e,t){console.log("onUpdateActionButtons: "+e,t),this.isCurrentPlayerActive()},e.prototype.setupNotifications=function(){console.log("notifications subscriptions setup")},e}(GameGui=function(){});define(["dojo","dojo/_base/declare","ebg/core/gamegui","ebg/counter","ebg/stock","ebg/zone"],function(e,t){t("bgagame.effortlesswc",ebg.core.gamegui,new GameBody)});