/*! bga-effortless 2024-07-29 */
var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(d,b){d.__proto__=b}:function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])}))(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),GameBasics=function(_super){function GameBasics(){var _this=_super.call(this)||this;return _this.curstate=null,_this.pendingUpdate=!1,_this.currentPlayerWasActive=!1,console.log("(BASICS) game constructor"),_this}return __extends(GameBasics,_super),GameBasics.prototype.setup=function(gamedatas){console.log("(BASICS) Starting game setup"),this.gamedatas=gamedatas},GameBasics.prototype.onEnteringState=function(stateName,args){this.curstate=stateName,args=args?args.args:null,this.callfn("onEnteringState_"+stateName,args),this.pendingUpdate&&(this.onUpdateActionButtons(stateName,args),this.pendingUpdate=!1)},GameBasics.prototype.onLeavingState=function(_stateName){this.currentPlayerWasActive=!1},GameBasics.prototype.onUpdateActionButtons=function(stateName,args){console.log("(BASICS) onUpdateActionButtons()"),this.curstate!==stateName?this.pendingUpdate=!0:(this.pendingUpdate=!1,gameui.isCurrentPlayerActive()&&!1===this.currentPlayerWasActive?(console.log("onUpdateActionButtons: "+stateName,args,this.debugStateInfo()),this.currentPlayerWasActive=!0,this.callfn("onUpdateActionButtons_"+stateName,args)):this.currentPlayerWasActive=!1)},GameBasics.prototype.debugStateInfo=function(){var iscurac=gameui.isCurrentPlayerActive(),replayMode=!1;return"undefined"!=typeof g_replayFrom&&(replayMode=!0),{instantaneousMode:!!gameui.instantaneousMode,isCurrentPlayerActive:iscurac,replayMode:replayMode}},GameBasics.prototype.ajaxCallWrapper=function(action,args,skipCheckAction,handler){void 0===skipCheckAction&&(skipCheckAction=!1),(args=args||{}).lock=!0,(skipCheckAction||gameui.checkAction(action))&&gameui.ajaxcall("/"+gameui.game_name+"/"+gameui.game_name+"/"+action+".html",args,gameui,function(_result){},handler)},GameBasics.prototype.onScriptError=function(msg,_url,_linenumber){if(!gameui.page_is_unloading)return console.error(msg),this.inherited(arguments)},GameBasics.prototype.wipeOutAndDestroy=function(node,args){void 0===(args=void 0===args?{}:args).duration&&(args.duration=500),this.instantaneousMode&&(args.duration=Math.min(1,args.duration)),args.node=node;node=dojo.fx.wipeOut(args);dojo.connect(node,"onEnd",function(_node){dojo.destroy(_node)}),node.play()},GameBasics.prototype.placeAndWipeIn=function(node,parentId,args){void 0===args&&(args={});node=dojo.place(node,parentId);dojo.setStyle(node,"display","none"),void 0===args.duration&&(args.duration=500),this.instantaneousMode&&(args.duration=Math.min(1,args.duration)),args.node=node,dojo.fx.wipeIn(args).play()},GameBasics.prototype.callfn=function(methodName,args){if(void 0!==this[methodName])return console.log("Calling "+methodName,args),this[methodName](args)},GameBasics.prototype.triggerUpdateActionButtons=function(){this.updatePageTitle()},GameBasics}(GameGui),StaticDataCards=function(){function StaticDataCards(){}return StaticDataCards.cardMetadata={attr_str_1:{title:"Strength +1"},attr_dex_1:{title:"Dexterity +1"},attr_con_1:{title:"Constitution +1"},attr_wis_1:{title:"Wisdom +1"},attr_int_1:{title:"Intelligence +1"},attr_cha_1:{title:"Charisma +1"},attr_str_2:{title:"Strength +2"},attr_dex_2:{title:"Dexterity +2"},attr_con_2:{title:"Constitution +2"},attr_wis_2:{title:"Wisdom +2"},attr_int_2:{title:"Intelligence +2"},attr_cha_2:{title:"Charisma +2"},item_1:{title:"Silver Sword"},item_2:{title:"Compact Crossbow"},item_3:{title:"Poison Antidote"},item_4:{title:"Binding Rope"},item_5:{title:"Phantom Lantern"},item_6:{title:"Loaded Dice"},item_7:{title:"Handy Cannon"},item_8:{title:"Reflective Shield"},item_9:{title:"Awakened Artifact"},item_10:{title:"Wooden Stake"},item_11:{title:"Glacial Spear"},item_12:{title:"Sea Trident"},item_13:{title:"Iron Horseshoes"},item_14:{title:"Holy Water"},item_15:{title:"Explosive Trap"},item_16:{title:"Woven Net"},item_17:{title:"Hypnotic Flute"},item_18:{title:"Crystal Goggles"},item_19:{title:"Burning Torch"},item_20:{title:"Music Box"},item_21:{title:"Cheese Wheel"},armor_mage_head:{title:"Armor: mage head"},armor_mage_chest:{title:"Armor: mage chest"},armor_mage_hands:{title:"Armor: mage hands"},armor_mage_feet:{title:"Armor: mage feet"},armor_plate_head:{title:"Armor: plate head"},armor_plate_chest:{title:"Armor: plate chest"},armor_plate_hands:{title:"Armor: plate hands"},armor_plate_feet:{title:"Armor: plate feet"},armor_leather_head:{title:"Armor: leather head"},armor_leather_chest:{title:"Armor: leather chest"},armor_leather_hands:{title:"Armor: leather hands"},armor_leather_feet:{title:"Armor: leather feet"},armor_obsidian_head:{title:"Armor: obsidian head"},armor_obsidian_chest:{title:"Armor: obsidian chest"},armor_obsidian_hands:{title:"Armor: obsidian hands"},armor_obsidian_feet:{title:"Armor: obsidian feet"},armor_scale_head:{title:"Armor: scale head"},armor_scale_chest:{title:"Armor: scale chest"},armor_scale_hands:{title:"Armor: scale hands"},armor_scale_feet:{title:"Armor: scale feet"},armor_assassin_head:{title:"Armor: assassin head"},armor_assassin_chest:{title:"Armor: assassin chest"},armor_assassin_hands:{title:"Armor: assassin hands"},armor_assassin_feet:{title:"Armor: assassin feet"},xp:{title:"Experience"},grit:{title:"Grit"}},StaticDataCards}(),StaticDataSetlocs=function(){function StaticDataSetlocs(){}return StaticDataSetlocs.locationMetadata={coliseum:{name:"Coliseum",text:"Take one card from here and discard the other."},library:{name:"Library",text:"View both cards here and take 1.  Replace the missing card face-down."},market:{name:"Market",text:"Discard a card from your hand and take both cards here."},cave:{name:"Cave",text:""},river:{name:"River",text:"Discard a card at another location."},prison:{name:"Prison",text:"Move another player’s effort from any other location to here."},tunnels:{name:"Tunnels",text:"Move another player’s effort from here to any other location."},city:{name:"City",text:"Move one of your effort from any other location to here."},wasteland:{name:"Wasteland",text:""},docks:{name:"Docks",text:"Move one of your effort from here to any other location."},temple:{name:"Temple",text:"Discard a card from your hand to take the top 2 cards from the deck."},crypt:{name:"Crypt",text:"Take 1 of the top 2 cards from the discard."},tundra:{name:"Tundra",text:"Once all players have placed half of their effort, replace this location at random."}},StaticDataSetlocs.settingMetadata={active:{name:"Active",text:"Most here gains 4 points."},crowded:{name:"Crowded",text:"Gain 10 points if you have at least 5 effort here."},lively:{name:"Lively",text:"Gain 1 point for each effort here."},peaceful:{name:"Peaceful",text:"Gain 3 points for every 2 effort here."},battling:{name:"Battling",text:"Most here gains 8 points."},barren:{name:"Barren",text:""},hidden:{name:"Hidden",text:"Least here loses 5 points."},treacherous:{name:"Treacherous",text:"Lose 1 point for each effort here."},quiet:{name:"Quiet",text:"Most here loses 5 points."},eerie:{name:"Eerie",text:"Least here gains 5 points."},holy:{name:"Holy",text:"Most here gains 2 points for each effort."},ghostly:{name:"Ghostly",text:"Lose 2 points for every 2 effort here."},frozen:{name:"Frozen",text:"Once all players have placed half of their effort, replace this setting at random."}},StaticDataSetlocs}(),StaticDataSprites=function(){function StaticDataSprites(){}return StaticDataSprites.totalWidth=3517.2,StaticDataSprites.totalHeight=3328.2,StaticDataSprites.spriteMetadata={card_armor_assassin_chest:{width:233.4,height:363.6,offsetX:0,offsetY:0},card_armor_assassin_feet:{width:233.4,height:363.6,offsetX:-233.4,offsetY:0},card_armor_assassin_hands:{width:233.4,height:363.6,offsetX:-466.8,offsetY:0},card_armor_assassin_head:{width:233.4,height:363.6,offsetX:-700.2,offsetY:0},card_armor_leather_chest:{width:233.4,height:363.6,offsetX:0,offsetY:-363.6},card_armor_leather_feet:{width:233.4,height:363.6,offsetX:-233.4,offsetY:-363.6},card_armor_leather_hands:{width:233.4,height:363.6,offsetX:-466.8,offsetY:-363.6},card_armor_leather_head:{width:233.4,height:363.6,offsetX:-700.2,offsetY:-363.6},card_armor_mage_chest:{width:233.4,height:363.6,offsetX:-933.6,offsetY:0},card_armor_mage_feet:{width:233.4,height:363.6,offsetX:-933.6,offsetY:-363.6},card_armor_mage_hands:{width:233.4,height:363.6,offsetX:0,offsetY:-727.2},card_armor_mage_head:{width:233.4,height:363.6,offsetX:-233.4,offsetY:-727.2},card_armor_obsidian_chest:{width:233.4,height:363.6,offsetX:-466.8,offsetY:-727.2},card_armor_obsidian_feet:{width:233.4,height:363.6,offsetX:-700.2,offsetY:-727.2},card_armor_obsidian_hands:{width:233.4,height:363.6,offsetX:-933.6,offsetY:-727.2},card_armor_obsidian_head:{width:233.4,height:363.6,offsetX:-1167,offsetY:0},card_armor_plate_chest:{width:233.4,height:363.6,offsetX:-1167,offsetY:-363.6},card_armor_plate_feet:{width:233.4,height:363.6,offsetX:-1167,offsetY:-727.2},card_armor_plate_hands:{width:233.4,height:363.6,offsetX:-1400.4,offsetY:0},card_armor_plate_head:{width:233.4,height:363.6,offsetX:-1400.4,offsetY:-363.6},card_armor_scale_chest:{width:233.4,height:363.6,offsetX:-1400.4,offsetY:-727.2},card_armor_scale_feet:{width:233.4,height:363.6,offsetX:0,offsetY:-1090.8},card_armor_scale_hands:{width:233.4,height:363.6,offsetX:-233.4,offsetY:-1090.8},card_armor_scale_head:{width:233.4,height:363.6,offsetX:-466.8,offsetY:-1090.8},card_attr_cha_1:{width:233.4,height:363.6,offsetX:-700.2,offsetY:-1090.8},card_attr_cha_2:{width:233.4,height:363.6,offsetX:-933.6,offsetY:-1090.8},card_attr_con_1:{width:233.4,height:363.6,offsetX:-1167,offsetY:-1090.8},card_attr_con_2:{width:233.4,height:363.6,offsetX:-1400.4,offsetY:-1090.8},card_attr_dex_1:{width:233.4,height:363.6,offsetX:-1633.8,offsetY:0},card_attr_dex_2:{width:233.4,height:363.6,offsetX:-1633.8,offsetY:-363.6},card_attr_int_1:{width:233.4,height:363.6,offsetX:-1633.8,offsetY:-727.2},card_attr_int_2:{width:233.4,height:363.6,offsetX:-1633.8,offsetY:-1090.8},card_attr_str_1:{width:233.4,height:363.6,offsetX:0,offsetY:-1454.4},card_attr_str_2:{width:233.4,height:363.6,offsetX:-233.4,offsetY:-1454.4},card_attr_wis_1:{width:233.4,height:363.6,offsetX:-466.8,offsetY:-1454.4},card_attr_wis_2:{width:233.4,height:363.6,offsetX:-700.2,offsetY:-1454.4},card_back:{width:233.4,height:363.6,offsetX:-933.6,offsetY:-1454.4},card_dwarf:{width:233.4,height:363,offsetX:-2567.4,offsetY:-2181.6},card_elf:{width:233.4,height:363,offsetX:-2800.8,offsetY:0},card_exp:{width:233.4,height:363.6,offsetX:-1167,offsetY:-1454.4},card_fairy:{width:233.4,height:363,offsetX:-2800.8,offsetY:-363},card_gnome:{width:233.4,height:363,offsetX:-2800.8,offsetY:-726},card_goblin:{width:233.4,height:363,offsetX:-2800.8,offsetY:-1089},card_grit:{width:233.4,height:363.6,offsetX:-1400.4,offsetY:-1454.4},card_human:{width:233.4,height:363,offsetX:-2800.8,offsetY:-1452},card_item_1:{width:233.4,height:363.6,offsetX:-1633.8,offsetY:-1454.4},card_item_10:{width:233.4,height:363.6,offsetX:-1867.2,offsetY:0},card_item_11:{width:233.4,height:363.6,offsetX:-1867.2,offsetY:-363.6},card_item_12:{width:233.4,height:363.6,offsetX:-1867.2,offsetY:-727.2},card_item_13:{width:233.4,height:363.6,offsetX:-1867.2,offsetY:-1090.8},card_item_14:{width:233.4,height:363.6,offsetX:-1867.2,offsetY:-1454.4},card_item_15:{width:233.4,height:363.6,offsetX:-2100.6,offsetY:0},card_item_16:{width:233.4,height:363.6,offsetX:-2100.6,offsetY:-363.6},card_item_17:{width:233.4,height:363.6,offsetX:-2100.6,offsetY:-727.2},card_item_18:{width:233.4,height:363.6,offsetX:-2100.6,offsetY:-1090.8},card_item_19:{width:233.4,height:363.6,offsetX:-2100.6,offsetY:-1454.4},card_item_2:{width:233.4,height:363.6,offsetX:0,offsetY:-1818},card_item_20:{width:233.4,height:363.6,offsetX:-233.4,offsetY:-1818},card_item_21:{width:233.4,height:363.6,offsetX:-466.8,offsetY:-1818},card_item_3:{width:233.4,height:363.6,offsetX:-700.2,offsetY:-1818},card_item_4:{width:233.4,height:363.6,offsetX:-933.6,offsetY:-1818},card_item_5:{width:233.4,height:363.6,offsetX:-1167,offsetY:-1818},card_item_6:{width:233.4,height:363.6,offsetX:-1400.4,offsetY:-1818},card_item_7:{width:233.4,height:363.6,offsetX:-1633.8,offsetY:-1818},card_item_8:{width:233.4,height:363.6,offsetX:-1867.2,offsetY:-1818},card_item_9:{width:233.4,height:363.6,offsetX:-2100.6,offsetY:-1818},card_orc:{width:233.4,height:363,offsetX:-2800.8,offsetY:-1815},class_alchemist:{width:233.4,height:363,offsetX:-2800.8,offsetY:-2178},class_artificer:{width:233.4,height:363,offsetX:0,offsetY:-2545.2},class_barbarian:{width:233.4,height:363,offsetX:-233.4,offsetY:-2545.2},class_bard:{width:233.4,height:363,offsetX:-466.8,offsetY:-2545.2},class_cleric:{width:233.4,height:363,offsetX:-700.2,offsetY:-2545.2},class_druid:{width:233.4,height:363,offsetX:-933.6,offsetY:-2545.2},class_fighter:{width:233.4,height:363,offsetX:-1167,offsetY:-2545.2},class_merchant:{width:233.4,height:363,offsetX:-1400.4,offsetY:-2545.2},class_monk:{width:233.4,height:363,offsetX:-1633.8,offsetY:-2545.2},class_necromancer:{width:233.4,height:363,offsetX:-1867.2,offsetY:-2545.2},class_paladin:{width:233.4,height:363,offsetX:-2100.6,offsetY:-2545.2},class_ranger:{width:233.4,height:363,offsetX:-2334,offsetY:-2545.2},class_rogue:{width:233.4,height:363,offsetX:-2567.4,offsetY:-2545.2},class_wizard:{width:233.4,height:363,offsetX:-2800.8,offsetY:-2545.2},threat_threat_1:{width:233.4,height:363.6,offsetX:-2334,offsetY:0},threat_threat_10:{width:233.4,height:363.6,offsetX:-2334,offsetY:-363.6},threat_threat_11:{width:233.4,height:363.6,offsetX:-2334,offsetY:-727.2},threat_threat_12:{width:233.4,height:363.6,offsetX:-2334,offsetY:-1090.8},threat_threat_13:{width:233.4,height:363.6,offsetX:-2334,offsetY:-1454.4},threat_threat_14:{width:233.4,height:363.6,offsetX:-2334,offsetY:-1818},threat_threat_15:{width:233.4,height:363.6,offsetX:0,offsetY:-2181.6},threat_threat_16:{width:233.4,height:363.6,offsetX:-233.4,offsetY:-2181.6},threat_threat_17:{width:233.4,height:363.6,offsetX:-466.8,offsetY:-2181.6},threat_threat_18:{width:233.4,height:363.6,offsetX:-700.2,offsetY:-2181.6},threat_threat_19:{width:233.4,height:363.6,offsetX:-933.6,offsetY:-2181.6},threat_threat_2:{width:233.4,height:363.6,offsetX:-1167,offsetY:-2181.6},threat_threat_20:{width:233.4,height:363.6,offsetX:-1400.4,offsetY:-2181.6},threat_threat_21:{width:233.4,height:363.6,offsetX:-1633.8,offsetY:-2181.6},threat_threat_3:{width:233.4,height:363.6,offsetX:-1867.2,offsetY:-2181.6},threat_threat_4:{width:233.4,height:363.6,offsetX:-2100.6,offsetY:-2181.6},threat_threat_5:{width:233.4,height:363.6,offsetX:-2334,offsetY:-2181.6},threat_threat_6:{width:233.4,height:363.6,offsetX:-2567.4,offsetY:0},threat_threat_7:{width:233.4,height:363.6,offsetX:-2567.4,offsetY:-363.6},threat_threat_8:{width:233.4,height:363.6,offsetX:-2567.4,offsetY:-727.2},threat_threat_9:{width:233.4,height:363.6,offsetX:-2567.4,offsetY:-1090.8},threat_threat_back:{width:233.4,height:363.6,offsetX:-2567.4,offsetY:-1454.4},threat_threat_vacant:{width:233.4,height:363.6,offsetX:-2567.4,offsetY:-1818},location_cabin:{width:300,height:210,offsetX:-3034.2,offsetY:0},location_caravan:{width:300,height:210,offsetX:-3034.2,offsetY:-210},location_cave:{width:300,height:210,offsetX:-3034.2,offsetY:-420},location_city:{width:300,height:210,offsetX:-3034.2,offsetY:-630},location_coliseum:{width:300,height:210,offsetX:-3034.2,offsetY:-840},location_crypt:{width:300,height:210,offsetX:-3034.2,offsetY:-1050},location_docks:{width:300,height:210,offsetX:-3034.2,offsetY:-1260},location_dungeon:{width:300,height:210,offsetX:-3034.2,offsetY:-1470},location_forest:{width:300,height:210,offsetX:-3034.2,offsetY:-1680},location_garden:{width:300,height:210,offsetX:-3034.2,offsetY:-1890},location_laboratory:{width:300,height:210,offsetX:-3034.2,offsetY:-2100},location_labyrinth:{width:300,height:210,offsetX:-3034.2,offsetY:-2310},location_library:{width:300,height:210,offsetX:-3034.2,offsetY:-2520},location_market:{width:300,height:210,offsetX:0,offsetY:-2908.2},location_observatory:{width:300,height:210,offsetX:-300,offsetY:-2908.2},location_portal:{width:300,height:210,offsetX:-600,offsetY:-2908.2},location_prison:{width:300,height:210,offsetX:-900,offsetY:-2908.2},location_river:{width:300,height:210,offsetX:-1200,offsetY:-2908.2},location_stables:{width:300,height:210,offsetX:-1500,offsetY:-2908.2},location_temple:{width:300,height:210,offsetX:-1800,offsetY:-2908.2},location_tunnels:{width:300,height:210,offsetX:-2100,offsetY:-2908.2},location_wasteland:{width:300,height:210,offsetX:-2400,offsetY:-2908.2},setting_active:{width:183,height:210,offsetX:-2700,offsetY:-2908.2},setting_barren:{width:183,height:210,offsetX:-2883,offsetY:-2908.2},setting_battling:{width:183,height:210,offsetX:-3066,offsetY:-2908.2},setting_capable:{width:183,height:210,offsetX:0,offsetY:-3118.2},setting_corrupted:{width:183,height:210,offsetX:-183,offsetY:-3118.2},setting_crowded:{width:183,height:210,offsetX:-366,offsetY:-3118.2},setting_eerie:{width:183,height:210,offsetX:-549,offsetY:-3118.2},setting_equipped:{width:183,height:210,offsetX:-732,offsetY:-3118.2},setting_ghostly:{width:183,height:210,offsetX:-915,offsetY:-3118.2},setting_hidden:{width:183,height:210,offsetX:-1098,offsetY:-3118.2},setting_holy:{width:183,height:210,offsetX:-1281,offsetY:-3118.2},setting_lively:{width:183,height:210,offsetX:-1464,offsetY:-3118.2},setting_magical:{width:183,height:210,offsetX:-1647,offsetY:-3118.2},setting_nonexistent:{width:183,height:210,offsetX:-1830,offsetY:-3118.2},setting_overgrown:{width:183,height:210,offsetX:-2013,offsetY:-3118.2},setting_peaceful:{width:183,height:210,offsetX:-2196,offsetY:-3118.2},setting_quiet:{width:183,height:210,offsetX:-2379,offsetY:-3118.2},setting_secret:{width:183,height:210,offsetX:-2562,offsetY:-3118.2},setting_sheltered:{width:183,height:210,offsetX:-2745,offsetY:-3118.2},setting_starved:{width:183,height:210,offsetX:-2928,offsetY:-3118.2},setting_transcendent:{width:183,height:210,offsetX:-3111,offsetY:-3118.2},setting_traveling:{width:183,height:210,offsetX:-3334.2,offsetY:0},setting_treacherous:{width:183,height:210,offsetX:-3334.2,offsetY:-210}},StaticDataSprites}(),GameBody=function(_super){function GameBody(){var _this=_super.call(this)||this;return _this.mutableBoardState=null,_this.privateState=null,_this.tablewidePanelEl=void 0,_this.inputArgs=null,_this.selectedLocation=null,_this.selectedCard=null,_this.selectedEffortPile=null,_this.handZone=null,_this.locationZones={},_this.locationByPos={},console.log("effortless constructor"),_this.cardZoneObserver=new MutationObserver(function(records,_observer){for(var _i=0,records_1=records;_i<records_1.length;_i++)for(var record=records_1[_i],_a=0,_b=Array.from(record.addedNodes);_a<_b.length;_a++){var _el=_b[_a];_this.onCardAddedToZone(_el,_this.getCardState(_this.cardIdFromElId(_el.id)))}}),_this}return __extends(GameBody,_super),GameBody.prototype.setup=function(gamedatas){console.log("*** Entering `setup()`; gamedatas=",gamedatas);var playerId,player,handZoneEl=document.querySelector("#ewc_handarea #ewc_handarea_zone");for(playerId in this.handZone=new ebg.zone,this.setUpCardZone(this.handZone,handZoneEl),gamedatas.players)gamedatas.players.hasOwnProperty(playerId)&&(player=gamedatas.players[playerId],console.log(player));this.setupSeatBoards(gamedatas.mutableBoardState),this.setupPlayArea(gamedatas.mutableBoardState),this.setupNotifications();for(var _i=0,_a=this.allCardZones();_i<_a.length;_i++){var z=_a[_i];this.cardZoneObserver.observe(z.container_div,{childList:!0})}console.log("Ending game setup")},GameBody.prototype.onCardAddedToZone=function(el,card){card=card.visible?StaticDataCards.cardMetadata[card.cardType]:null;null!==card?(console.log("  metadata found; adding tooltip: ",el.id,card),this.addTooltipHtml(el.id,this.format_block("jstpl_tooltip_card",card))):this.removeTooltip(el.id)},GameBody.prototype.updatePlayerOrdering=function(){console.log("*** updatePlayerOrdering()");for(var place=1,_i=0,_a=Object.keys(this.gamedatas.playerorder);_i<_a.length;_i++){var i=_a[_i],i=this.gamedatas.playerorder[i];dojo.place("overall_player_board_"+i,"player_boards",place),place++}},GameBody.prototype.setupSeatBoards=function(mutableBoardState){console.log("setupSeatBoards(): #player_boards =",$("player_boards").children.length),this.tablewidePanelEl=dojo.place(this.format_block("jstpl_tablewide_panel",{}),$("player_boards"),"first");for(var reservePiles={},_i=0,_a=Object.values(mutableBoardState.effortPiles);_i<_a.length;_i++){var pile=_a[_i];null===pile.locationId&&(reservePiles[pile.seatId]=pile)}for(var _b=0,_c=Object.values(mutableBoardState.seats);_b<_c.length;_b++){var seat=_c[_b],seatBoardEl=(null===seat.playerId&&dojo.place(this.format_block("jstpl_seat_board",{seatColor:seat.seatColor,seatId:seat.id,seatLabel:seat.seatLabel}),$("player_boards")),null===seat.playerId?document.querySelector("#overall_seat_board_"+seat.id+" .player_panel_content"):document.querySelector("#overall_player_board_"+seat.playerId+" .player_panel_content"));dojo.place(this.format_block("jstpl_seat_board_contents",{colorName:seat.colorName,reservePileId:reservePiles[seat.id].id}),seatBoardEl)}document.querySelectorAll(".player_score").forEach(function(el){el.style.visibility="hidden"})},GameBody.prototype.setupPlayArea=function(mutableBoardState){for(var _this=this,_i=0,_a=Object.values(mutableBoardState.locations);_i<_a.length;_i++){var location_1=_a[_i];this.locationByPos[location_1.sublocationIndex]=location_1}for(var this_1=this,i=0;i<6;++i)!function(i){var el=dojo.place(this_1.format_block("jstpl_setloc_panel",{classes:"ewc_setloc_location_"+this_1.locationByPos[i].id,id:"ewc_setloc_panel_"+i}),$("ewc_setlocarea_column_"+i%2));dojo.connect(el.querySelector(".ewc_setloc_setloc_wrap"),"onclick",this_1,function(evt){_this.onClickLocation(evt,_this.locationByPos[i].id)})}(i);for(var _b=0,_c=Object.values(mutableBoardState.locations);_b<_c.length;_b++){var location_2=_c[_b],parentEl=(console.log("*** location",location_2),document.querySelector("#ewc_setloc_panel_"+location_2.sublocationIndex+" .ewc_setloc_cards")),zone=new ebg.zone;this.setUpCardZone(zone,parentEl),this.locationZones[location_2.id]=zone}for(var this_2=this,_d=0,_e=Object.values(mutableBoardState.effortPiles);_d<_e.length;_d++)!function(pile){var location_3,seat;null!==pile.locationId&&(seat=mutableBoardState.seats[pile.seatId],location_3=mutableBoardState.locations[pile.locationId],location_3=document.querySelector("#ewc_setloc_panel_"+location_3.sublocationIndex+" .ewc_effort_counter_wrap"),seat=dojo.place(this_2.format_block("jstpl_effort_counter",{colorName:seat.colorName,id:pile.id}),location_3),dojo.connect(seat,"onclick",this_2,function(evt){_this.onClickEffortPile(evt,pile.id)}))}(_e[_d]);this.applyState(mutableBoardState,null)},GameBody.prototype.setUpCardZone=function(zone,el){zone.create(this,el,50,185),zone.setPattern("custom"),zone.itemIdToCoords=function(i,controlWidth){controlWidth=(controlWidth-(zone.item_width+35*(zone.items.length-1)))/2;return{h:zone.item_height,w:zone.item_width,x:controlWidth+35*i,y:0}}},GameBody.prototype.applyState=function(mutableBoardState,privateState){for(var _this=this,seenCardIds=(null==mutableBoardState?(mutableBoardState=this.mutableBoardState,console.log("applyState(): using cached mutableBoardState")):(this.mutableBoardState=mutableBoardState,console.log("applyState(): using novel mutableBoardState")),null==privateState?(privateState=this.privateState,console.log("applyState(): using cached privateState")):(this.privateState=privateState,console.log("applyState(): using novel privateState")),console.log("using mutableBoardState & privateState:",mutableBoardState,privateState),null!==mutableBoardState&&(console.log("applyState(): updating mutableBoardState",mutableBoardState),this.applyMutableBoardState(mutableBoardState)),{}),_i=0,_a=this.allCardState();_i<_a.length;_i++){var card=_a[_i];switch(card.sublocation){case"SETLOC":case"HAND":seenCardIds[card.id]=!0}this.placeCard(card)}console.log("*** seenCardIds:",seenCardIds),document.querySelectorAll(".ewc_card_playarea").forEach(function(rawEl){var cardId=_this.cardIdFromElId(rawEl.id);console.log("  - existent card ID:",rawEl.id,cardId),seenCardIds.hasOwnProperty(cardId)||(console.log("     not present in update; destroying el!"),_this.removeFromCardZones(rawEl,!0))}),this.rescaleCardSprites(),this.refreshUiElements()},GameBody.prototype.allCardState=function(){var cards=[];return null!==this.privateState&&(cards=cards.concat(Object.values(this.privateState.cards))),cards=null!==this.mutableBoardState?cards.concat(Object.values(this.mutableBoardState.cards)):cards},GameBody.prototype.getCardState=function(cardId){for(var _i=0,_a=this.allCardState();_i<_a.length;_i++){var card=_a[_i];if(card.id===cardId)return card}return null},GameBody.prototype.refreshUiElements=function(){this.handZone.updateDisplay();for(var _i=0,_a=Object.values(this.locationZones);_i<_a.length;_i++)_a[_i].updateDisplay()},GameBody.prototype.cardIdFromElId=function(elId){elId=/^cardid_(\d+)$/.exec(elId);return parseInt(elId[1],10)},GameBody.prototype.rescaleCardSprites=function(){var _this=this;console.log("*** qsa ***"),document.querySelectorAll(".tmp_scalable_card").forEach(function(rawEl){rawEl.classList.contains("tmp_scaled_card")||(rawEl.classList.add("tmp_scaled_card"),_this.rescaleSprite(rawEl,.5))})},GameBody.prototype.applyMutableBoardState=function(mutableBoardState){var _this=this;this.mutableBoardState=mutableBoardState;for(var _i=0,_a=Object.values(mutableBoardState.locations);_i<_a.length;_i++){var location_4=_a[_i];console.log("*** location",location_4),document.querySelector("#ewc_setloc_panel_"+location_4.sublocationIndex+" .ewc_setloc_location").classList.add(location_4.cardType.replace(":","_"))}for(var _b=0,_c=Object.values(mutableBoardState.effortPiles);_b<_c.length;_b++){var pile=_c[_b];document.querySelector("#ewc_effort_counter_"+pile.id+" .ewc_effort_counter_value").innerText=""+pile.qty}for(var _d=0,_e=Object.values(mutableBoardState.settings);_d<_e.length;_d++){var setting=_e[_d];document.querySelector("#ewc_setloc_panel_"+setting.sublocationIndex+" .ewc_setloc_setting").classList.add(setting.cardType.replace(":","_"))}document.querySelectorAll(".tmp_scalable_cube").forEach(function(rawEl){rawEl.classList.contains("tmp_scaled_cube")||(rawEl.classList.add("tmp_scale_cube"),_this.rescaleSpriteCube(rawEl,.6))}),document.querySelectorAll(".tmp_tintable").forEach(function(rawEl){rawEl.classList.contains("tmp_tinted")||(rawEl.classList.add("tmp_tinted"),rawEl.classList.contains("ewc_playercolor_teal")&&_this.tintSprite(rawEl,"#00b796"),rawEl.classList.contains("ewc_playercolor_pink")&&_this.tintSprite(rawEl,"#ff5fa2"),rawEl.classList.contains("ewc_playercolor_blue")&&_this.tintSprite(rawEl,"#001489"),rawEl.classList.contains("ewc_playercolor_yellow")&&_this.tintSprite(rawEl,"#ffe900"),rawEl.classList.contains("ewc_playercolor_white")&&_this.tintSprite(rawEl,"#ffffff"))})},GameBody.prototype.allCardZones=function(){return[this.handZone].concat(Object.values(this.locationZones))},GameBody.prototype.placeCardInZone=function(zone,el){zone.isInZone(el.id)||(this.removeFromCardZones(el,!1),zone.placeInZone(el.id))},GameBody.prototype.removeFromCardZones=function(el,destroy){for(var _i=0,_a=this.allCardZones();_i<_a.length;_i++)_a[_i].removeFromZone(el.id,!1);destroy&&this.fadeOutAndDestroy(el)},GameBody.prototype.placeCard=function(card){switch(card.sublocation){case"SETLOC":case"HAND":break;default:return}console.log("*** card",card);var spawnEl,el=document.getElementById("cardid_"+card.id);switch(null===el&&(spawnEl=document.getElementById("tablewide_panel"),cardType=card.visible?card.cardType:"back",el=dojo.place(this.format_block("jstpl_playarea_card",{cardType:cardType,id:card.id}),spawnEl)),card.sublocation){case"SETLOC":console.log("  - in setloc");var location_5=this.locationByPos[card.sublocationIndex];this.placeCardInZone(this.locationZones[location_5.id],el);break;case"HAND":console.log("  - in hand"),this.placeCardInZone(this.handZone,el);break;default:console.log("  - other sublocation: "+card.sublocation)}var cardType=card.visible?card.cardType:"back";if(!el.classList.contains("card_"+cardType)){for(var _i=0,_a=Array.from(el.classList).filter(function(x){return x.match(/^card_/)});_i<_a.length;_i++){var className=_a[_i];el.classList.remove(className)}el.classList.add("card_"+cardType),this.rescaleSprite(el,.5)}this.onCardAddedToZone(el,card)},GameBody.prototype.getSpriteName=function(el){for(var _i=0,_a=Object.values(el.classList);_i<_a.length;_i++){var className=_a[_i];if(console.log(className),className.match(/^card_/g))return className}throw new Error("XXX: Unable to find sprite name.")},GameBody.prototype.rescaleSprite=function(el,scale){var spriteName=this.getSpriteName(el),spriteName=StaticDataSprites.spriteMetadata[spriteName],bgSize=(el.style.height=spriteName.height*scale+"px",el.style.width=spriteName.width*scale+"px",StaticDataSprites.totalWidth*scale+"px "+StaticDataSprites.totalHeight*scale+"px");el.style.backgroundSize=bgSize,el.style.backgroundPosition=spriteName.offsetX*scale+"px "+spriteName.offsetY*scale+"px"},GameBody.prototype.rescaleSpriteCube=function(el,scale){el.style.height=30*scale+"px",el.style.width=30*scale+"px";var spritesheetSize=312*scale+"px "+302.4*scale+"px",spritesheetSize=(el.style.backgroundSize=spritesheetSize,el.style.maskSize=spritesheetSize,-276*scale+"px "+-121.2*scale+"px");el.style.backgroundPosition=spritesheetSize,el.style.maskPosition=spritesheetSize},GameBody.prototype.tintSprite=function(el,color){el.style.backgroundBlendMode="multiply",el.style.backgroundColor=color},GameBody.prototype.format_string_recursive=function(log,args){var lastLog;for(console.log("XXX:",args);lastLog=log,(log=this.inherited(arguments))!==lastLog;);return this.replaceLogEntities(log)},GameBody.prototype.replaceLogEntities=function(log){return log.replace(/:([a-z0-9-_]+)=([a-z0-9-_]+?):/g,function(_m,_entityType,entityName){return console.log("match parts: ",_m,_entityType,entityName),entityName.charAt(0).toUpperCase()+entityName.slice(1)})},GameBody.prototype.updateSelectables=function(inputArgs){var _this=this;switch(console.log("*** updateSelectables()"),document.querySelectorAll(".ewc_selectable").forEach(function(el){el.classList.remove("ewc_selectable")}),document.querySelectorAll(".ewc_unselectable").forEach(function(el){el.classList.remove("ewc_unselectable")}),document.querySelectorAll(".ewc_selected").forEach(function(el){el.classList.remove("ewc_selected")}),inputArgs.inputType){case"inputtype:location":console.log("  *** inputtype:location");for(var _i=0,_a=inputArgs.choices;_i<_a.length;_i++){var id=_a[_i];document.querySelector(".ewc_setloc_location_"+id+" .ewc_setloc_setloc_wrap").classList.add("ewc_selectable")}document.querySelectorAll(".ewc_setloc_setloc_wrap:not(.ewc_selectable)").forEach(function(el){el.classList.add("ewc_unselectable")});break;case"inputtype:card":console.log("  *** inputtype:card",inputArgs),this.placeAndWipeIn(this.format_block("jstpl_promptarea",{}),"ewc_promptarea_wrap");for(var this_3=this,_b=0,_c=Object.values(inputArgs.choices);_b<_c.length;_b++)!function(_card){var card=_card,_card=card.visible?card.cardType:"back",parentEl=document.querySelector(".ewc_promptarea .ewc_promptarea_choices"),_card=dojo.place(this_3.format_block("jstpl_prompt_card",{cardType:_card,id:card.id}),parentEl);this_3.rescaleSprite(_card,.35),_card.classList.add("ewc_selectable"),dojo.connect(_card,"onclick",this_3,function(evt){_this.onClickCard(evt,card.id)})}(_c[_b]);break;case"inputtype:effort-pile":console.log("  *** inputtype:effort-pile");for(var _d=0,_e=inputArgs.choices;_d<_e.length;_d++){id=_e[_d];document.querySelector("#ewc_effort_counter_"+id).classList.add("ewc_selectable")}document.querySelectorAll(".ewc_effort_counter:not(.ewc_selectable)").forEach(function(el){el.classList.add("ewc_unselectable")});break;default:throw new Error("Unexpected input type: "+inputArgs.inputType)}},GameBody.prototype.onClickLocation=function(evt,locationId){console.log("onClickLocation",evt),null!==this.inputArgs&&"inputtype:location"===this.inputArgs.inputType&&this.inputArgs.choices.includes(locationId)&&(document.querySelectorAll(".ewc_selected").forEach(function(el){el.classList.remove("ewc_selected")}),evt.currentTarget.classList.add("ewc_selected"),this.selectedLocation=locationId,this.triggerUpdateActionButtons())},GameBody.prototype.onClickEffortPile=function(evt,pileId){console.log("onClickEffortPile",evt),console.log("  clicked pile = "+pileId+"; choices = ",this.inputArgs.choices),null!==this.inputArgs&&"inputtype:effort-pile"===this.inputArgs.inputType&&this.inputArgs.choices.includes(pileId)&&(document.querySelectorAll(".ewc_selected").forEach(function(el){el.classList.remove("ewc_selected")}),evt.currentTarget.classList.add("ewc_selected"),this.selectedEffortPile=pileId,this.triggerUpdateActionButtons())},GameBody.prototype.onClickCard=function(evt,cardId){console.log("onClickCard",evt),null!==this.inputArgs&&"inputtype:card"===this.inputArgs.inputType&&this.inputArgs.choices.map(function(card){return card.id}).includes(cardId)&&(document.querySelectorAll(".ewc_selected").forEach(function(el){el.classList.remove("ewc_selected")}),evt.currentTarget.classList.add("ewc_selected"),this.selectedCard=cardId,this.triggerUpdateActionButtons())},GameBody.prototype.onEnteringState=function(stateName,args){switch(console.log("Entering state",stateName,args),_super.prototype.onEnteringState.call(this,stateName,args),null!==args&&null!==args.args&&this.applyState(args.args.mutableBoardState,args.args._private),stateName){case"stInput":this.isCurrentPlayerActive()&&(console.log("*** stInput: ",args),this.inputArgs=args.args.input,this.updateSelectables(args.args.input));break;case"stPostScoring":console.log("*** stPostScoring: ",args)}},GameBody.prototype.onLeavingState=function(stateName){var _this=this;console.log("Leaving state: "+stateName),_super.prototype.onLeavingState.call(this,stateName),this.inputArgs=null,document.querySelectorAll(".ewc_promptarea").forEach(function(el){_this.wipeOutAndDestroy(el)})},GameBody.prototype.onUpdateActionButtons=function(stateName,args){var _this=this;if(console.log("onUpdateActionButtons()",stateName,args),this.isCurrentPlayerActive()&&"stInput"===stateName){this.addActionButton("btn_input_confirm",_("Confirm"),function(){var rpcParam=null;switch(_this.inputArgs.inputType){case"inputtype:location":rpcParam={selection:JSON.stringify({inputType:"inputtype:location",value:_this.selectedLocation})};break;case"inputtype:card":rpcParam={selection:JSON.stringify({inputType:"inputtype:card",value:_this.selectedCard})};break;case"inputtype:effort-pile":rpcParam={selection:JSON.stringify({inputType:"inputtype:effort-pile",value:_this.selectedEffortPile})};break;default:throw new Error("Unexpected input type.")}console.log("confirmed!",rpcParam),_this.ajaxCallWrapper("actSelectInput",rpcParam)},void 0,void 0,"blue");var confirmReady=!1;if(null!==this.inputArgs)switch(this.inputArgs.inputType){case"inputtype:location":confirmReady=null!==this.selectedLocation;break;case"inputtype:card":confirmReady=null!==this.selectedCard;break;case"inputtype:effort-pile":confirmReady=null!==this.selectedEffortPile;break;default:throw new Error("Unexpected input type.")}confirmReady||dojo.addClass("btn_input_confirm","disabled")}},GameBody.prototype.setupNotifications=function(){console.log("notifications subscriptions setup")},GameBody}(GameBasics),__extends=(console.log("*** top of GameEntrypoint.ts"),define(["dojo","dojo/_base/declare","ebg/core/gamegui","ebg/counter","ebg/stock","ebg/zone"],function(_dojo,declare){return declare("bgagame.effortless",ebg.core.gamegui,new GameBody)}),this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(d,b){d.__proto__=b}:function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])}))(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}()),GameBasics=function(_super){function GameBasics(){var _this=_super.call(this)||this;return _this.curstate=null,_this.pendingUpdate=!1,_this.currentPlayerWasActive=!1,console.log("(BASICS) game constructor"),_this}return __extends(GameBasics,_super),GameBasics.prototype.setup=function(gamedatas){console.log("(BASICS) Starting game setup"),this.gamedatas=gamedatas},GameBasics.prototype.onEnteringState=function(stateName,args){this.curstate=stateName,args=args?args.args:null,this.callfn("onEnteringState_"+stateName,args),this.pendingUpdate&&(this.onUpdateActionButtons(stateName,args),this.pendingUpdate=!1)},GameBasics.prototype.onLeavingState=function(_stateName){this.currentPlayerWasActive=!1},GameBasics.prototype.onUpdateActionButtons=function(stateName,args){console.log("(BASICS) onUpdateActionButtons()"),this.curstate!==stateName?this.pendingUpdate=!0:(this.pendingUpdate=!1,gameui.isCurrentPlayerActive()&&!1===this.currentPlayerWasActive?(console.log("onUpdateActionButtons: "+stateName,args,this.debugStateInfo()),this.currentPlayerWasActive=!0,this.callfn("onUpdateActionButtons_"+stateName,args)):this.currentPlayerWasActive=!1)},GameBasics.prototype.debugStateInfo=function(){var iscurac=gameui.isCurrentPlayerActive(),replayMode=!1;return"undefined"!=typeof g_replayFrom&&(replayMode=!0),{instantaneousMode:!!gameui.instantaneousMode,isCurrentPlayerActive:iscurac,replayMode:replayMode}},GameBasics.prototype.ajaxCallWrapper=function(action,args,skipCheckAction,handler){void 0===skipCheckAction&&(skipCheckAction=!1),(args=args||{}).lock=!0,(skipCheckAction||gameui.checkAction(action))&&gameui.ajaxcall("/"+gameui.game_name+"/"+gameui.game_name+"/"+action+".html",args,gameui,function(_result){},handler)},GameBasics.prototype.onScriptError=function(msg,_url,_linenumber){if(!gameui.page_is_unloading)return console.error(msg),this.inherited(arguments)},GameBasics.prototype.wipeOutAndDestroy=function(node,args){void 0===(args=void 0===args?{}:args).duration&&(args.duration=500),this.instantaneousMode&&(args.duration=Math.min(1,args.duration)),args.node=node;node=dojo.fx.wipeOut(args);dojo.connect(node,"onEnd",function(_node){dojo.destroy(_node)}),node.play()},GameBasics.prototype.placeAndWipeIn=function(node,parentId,args){void 0===args&&(args={});node=dojo.place(node,parentId);dojo.setStyle(node,"display","none"),void 0===args.duration&&(args.duration=500),this.instantaneousMode&&(args.duration=Math.min(1,args.duration)),args.node=node,dojo.fx.wipeIn(args).play()},GameBasics.prototype.callfn=function(methodName,args){if(void 0!==this[methodName])return console.log("Calling "+methodName,args),this[methodName](args)},GameBasics.prototype.triggerUpdateActionButtons=function(){this.updatePageTitle()},GameBasics}(GameGui),__extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(d,b){d.__proto__=b}:function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])}))(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),GameBody=function(_super){function GameBody(){var _this=_super.call(this)||this;return _this.mutableBoardState=null,_this.privateState=null,_this.tablewidePanelEl=void 0,_this.inputArgs=null,_this.selectedLocation=null,_this.selectedCard=null,_this.selectedEffortPile=null,_this.handZone=null,_this.locationZones={},_this.locationByPos={},console.log("effortless constructor"),_this.cardZoneObserver=new MutationObserver(function(records,_observer){for(var _i=0,records_1=records;_i<records_1.length;_i++)for(var record=records_1[_i],_a=0,_b=Array.from(record.addedNodes);_a<_b.length;_a++){var _el=_b[_a];_this.onCardAddedToZone(_el,_this.getCardState(_this.cardIdFromElId(_el.id)))}}),_this}return __extends(GameBody,_super),GameBody.prototype.setup=function(gamedatas){console.log("*** Entering `setup()`; gamedatas=",gamedatas);var playerId,player,handZoneEl=document.querySelector("#ewc_handarea #ewc_handarea_zone");for(playerId in this.handZone=new ebg.zone,this.setUpCardZone(this.handZone,handZoneEl),gamedatas.players)gamedatas.players.hasOwnProperty(playerId)&&(player=gamedatas.players[playerId],console.log(player));this.setupSeatBoards(gamedatas.mutableBoardState),this.setupPlayArea(gamedatas.mutableBoardState),this.setupNotifications();for(var _i=0,_a=this.allCardZones();_i<_a.length;_i++){var z=_a[_i];this.cardZoneObserver.observe(z.container_div,{childList:!0})}console.log("Ending game setup")},GameBody.prototype.onCardAddedToZone=function(el,card){card=card.visible?StaticDataCards.cardMetadata[card.cardType]:null;null!==card?(console.log("  metadata found; adding tooltip: ",el.id,card),this.addTooltipHtml(el.id,this.format_block("jstpl_tooltip_card",card))):this.removeTooltip(el.id)},GameBody.prototype.updatePlayerOrdering=function(){console.log("*** updatePlayerOrdering()");for(var place=1,_i=0,_a=Object.keys(this.gamedatas.playerorder);_i<_a.length;_i++){var i=_a[_i],i=this.gamedatas.playerorder[i];dojo.place("overall_player_board_"+i,"player_boards",place),place++}},GameBody.prototype.setupSeatBoards=function(mutableBoardState){console.log("setupSeatBoards(): #player_boards =",$("player_boards").children.length),this.tablewidePanelEl=dojo.place(this.format_block("jstpl_tablewide_panel",{}),$("player_boards"),"first");for(var reservePiles={},_i=0,_a=Object.values(mutableBoardState.effortPiles);_i<_a.length;_i++){var pile=_a[_i];null===pile.locationId&&(reservePiles[pile.seatId]=pile)}for(var _b=0,_c=Object.values(mutableBoardState.seats);_b<_c.length;_b++){var seat=_c[_b],seatBoardEl=(null===seat.playerId&&dojo.place(this.format_block("jstpl_seat_board",{seatColor:seat.seatColor,seatId:seat.id,seatLabel:seat.seatLabel}),$("player_boards")),null===seat.playerId?document.querySelector("#overall_seat_board_"+seat.id+" .player_panel_content"):document.querySelector("#overall_player_board_"+seat.playerId+" .player_panel_content"));dojo.place(this.format_block("jstpl_seat_board_contents",{colorName:seat.colorName,reservePileId:reservePiles[seat.id].id}),seatBoardEl)}document.querySelectorAll(".player_score").forEach(function(el){el.style.visibility="hidden"})},GameBody.prototype.setupPlayArea=function(mutableBoardState){for(var _this=this,_i=0,_a=Object.values(mutableBoardState.locations);_i<_a.length;_i++){var location_1=_a[_i];this.locationByPos[location_1.sublocationIndex]=location_1}for(var this_1=this,i=0;i<6;++i)!function(i){var el=dojo.place(this_1.format_block("jstpl_setloc_panel",{classes:"ewc_setloc_location_"+this_1.locationByPos[i].id,id:"ewc_setloc_panel_"+i}),$("ewc_setlocarea_column_"+i%2));dojo.connect(el.querySelector(".ewc_setloc_setloc_wrap"),"onclick",this_1,function(evt){_this.onClickLocation(evt,_this.locationByPos[i].id)})}(i);for(var _b=0,_c=Object.values(mutableBoardState.locations);_b<_c.length;_b++){var location_2=_c[_b],parentEl=(console.log("*** location",location_2),document.querySelector("#ewc_setloc_panel_"+location_2.sublocationIndex+" .ewc_setloc_cards")),zone=new ebg.zone;this.setUpCardZone(zone,parentEl),this.locationZones[location_2.id]=zone}for(var this_2=this,_d=0,_e=Object.values(mutableBoardState.effortPiles);_d<_e.length;_d++)!function(pile){var location_3,seat;null!==pile.locationId&&(seat=mutableBoardState.seats[pile.seatId],location_3=mutableBoardState.locations[pile.locationId],location_3=document.querySelector("#ewc_setloc_panel_"+location_3.sublocationIndex+" .ewc_effort_counter_wrap"),seat=dojo.place(this_2.format_block("jstpl_effort_counter",{colorName:seat.colorName,id:pile.id}),location_3),dojo.connect(seat,"onclick",this_2,function(evt){_this.onClickEffortPile(evt,pile.id)}))}(_e[_d]);this.applyState(mutableBoardState,null)},GameBody.prototype.setUpCardZone=function(zone,el){zone.create(this,el,50,185),zone.setPattern("custom"),zone.itemIdToCoords=function(i,controlWidth){controlWidth=(controlWidth-(zone.item_width+35*(zone.items.length-1)))/2;return{h:zone.item_height,w:zone.item_width,x:controlWidth+35*i,y:0}}},GameBody.prototype.applyState=function(mutableBoardState,privateState){for(var _this=this,seenCardIds=(null==mutableBoardState?(mutableBoardState=this.mutableBoardState,console.log("applyState(): using cached mutableBoardState")):(this.mutableBoardState=mutableBoardState,console.log("applyState(): using novel mutableBoardState")),null==privateState?(privateState=this.privateState,console.log("applyState(): using cached privateState")):(this.privateState=privateState,console.log("applyState(): using novel privateState")),console.log("using mutableBoardState & privateState:",mutableBoardState,privateState),null!==mutableBoardState&&(console.log("applyState(): updating mutableBoardState",mutableBoardState),this.applyMutableBoardState(mutableBoardState)),{}),_i=0,_a=this.allCardState();_i<_a.length;_i++){var card=_a[_i];switch(card.sublocation){case"SETLOC":case"HAND":seenCardIds[card.id]=!0}this.placeCard(card)}console.log("*** seenCardIds:",seenCardIds),document.querySelectorAll(".ewc_card_playarea").forEach(function(rawEl){var cardId=_this.cardIdFromElId(rawEl.id);console.log("  - existent card ID:",rawEl.id,cardId),seenCardIds.hasOwnProperty(cardId)||(console.log("     not present in update; destroying el!"),_this.removeFromCardZones(rawEl,!0))}),this.rescaleCardSprites(),this.refreshUiElements()},GameBody.prototype.allCardState=function(){var cards=[];return null!==this.privateState&&(cards=cards.concat(Object.values(this.privateState.cards))),cards=null!==this.mutableBoardState?cards.concat(Object.values(this.mutableBoardState.cards)):cards},GameBody.prototype.getCardState=function(cardId){for(var _i=0,_a=this.allCardState();_i<_a.length;_i++){var card=_a[_i];if(card.id===cardId)return card}return null},GameBody.prototype.refreshUiElements=function(){this.handZone.updateDisplay();for(var _i=0,_a=Object.values(this.locationZones);_i<_a.length;_i++)_a[_i].updateDisplay()},GameBody.prototype.cardIdFromElId=function(elId){elId=/^cardid_(\d+)$/.exec(elId);return parseInt(elId[1],10)},GameBody.prototype.rescaleCardSprites=function(){var _this=this;console.log("*** qsa ***"),document.querySelectorAll(".tmp_scalable_card").forEach(function(rawEl){rawEl.classList.contains("tmp_scaled_card")||(rawEl.classList.add("tmp_scaled_card"),_this.rescaleSprite(rawEl,.5))})},GameBody.prototype.applyMutableBoardState=function(mutableBoardState){var _this=this;this.mutableBoardState=mutableBoardState;for(var _i=0,_a=Object.values(mutableBoardState.locations);_i<_a.length;_i++){var location_4=_a[_i];console.log("*** location",location_4),document.querySelector("#ewc_setloc_panel_"+location_4.sublocationIndex+" .ewc_setloc_location").classList.add(location_4.cardType.replace(":","_"))}for(var _b=0,_c=Object.values(mutableBoardState.effortPiles);_b<_c.length;_b++){var pile=_c[_b];document.querySelector("#ewc_effort_counter_"+pile.id+" .ewc_effort_counter_value").innerText=""+pile.qty}for(var _d=0,_e=Object.values(mutableBoardState.settings);_d<_e.length;_d++){var setting=_e[_d];document.querySelector("#ewc_setloc_panel_"+setting.sublocationIndex+" .ewc_setloc_setting").classList.add(setting.cardType.replace(":","_"))}document.querySelectorAll(".tmp_scalable_cube").forEach(function(rawEl){rawEl.classList.contains("tmp_scaled_cube")||(rawEl.classList.add("tmp_scale_cube"),_this.rescaleSpriteCube(rawEl,.6))}),document.querySelectorAll(".tmp_tintable").forEach(function(rawEl){rawEl.classList.contains("tmp_tinted")||(rawEl.classList.add("tmp_tinted"),rawEl.classList.contains("ewc_playercolor_teal")&&_this.tintSprite(rawEl,"#00b796"),rawEl.classList.contains("ewc_playercolor_pink")&&_this.tintSprite(rawEl,"#ff5fa2"),rawEl.classList.contains("ewc_playercolor_blue")&&_this.tintSprite(rawEl,"#001489"),rawEl.classList.contains("ewc_playercolor_yellow")&&_this.tintSprite(rawEl,"#ffe900"),rawEl.classList.contains("ewc_playercolor_white")&&_this.tintSprite(rawEl,"#ffffff"))})},GameBody.prototype.allCardZones=function(){return[this.handZone].concat(Object.values(this.locationZones))},GameBody.prototype.placeCardInZone=function(zone,el){zone.isInZone(el.id)||(this.removeFromCardZones(el,!1),zone.placeInZone(el.id))},GameBody.prototype.removeFromCardZones=function(el,destroy){for(var _i=0,_a=this.allCardZones();_i<_a.length;_i++)_a[_i].removeFromZone(el.id,!1);destroy&&this.fadeOutAndDestroy(el)},GameBody.prototype.placeCard=function(card){switch(card.sublocation){case"SETLOC":case"HAND":break;default:return}console.log("*** card",card);var spawnEl,el=document.getElementById("cardid_"+card.id);switch(null===el&&(spawnEl=document.getElementById("tablewide_panel"),cardType=card.visible?card.cardType:"back",el=dojo.place(this.format_block("jstpl_playarea_card",{cardType:cardType,id:card.id}),spawnEl)),card.sublocation){case"SETLOC":console.log("  - in setloc");var location_5=this.locationByPos[card.sublocationIndex];this.placeCardInZone(this.locationZones[location_5.id],el);break;case"HAND":console.log("  - in hand"),this.placeCardInZone(this.handZone,el);break;default:console.log("  - other sublocation: "+card.sublocation)}var cardType=card.visible?card.cardType:"back";if(!el.classList.contains("card_"+cardType)){for(var _i=0,_a=Array.from(el.classList).filter(function(x){return x.match(/^card_/)});_i<_a.length;_i++){var className=_a[_i];el.classList.remove(className)}el.classList.add("card_"+cardType),this.rescaleSprite(el,.5)}this.onCardAddedToZone(el,card)},GameBody.prototype.getSpriteName=function(el){for(var _i=0,_a=Object.values(el.classList);_i<_a.length;_i++){var className=_a[_i];if(console.log(className),className.match(/^card_/g))return className}throw new Error("XXX: Unable to find sprite name.")},GameBody.prototype.rescaleSprite=function(el,scale){var spriteName=this.getSpriteName(el),spriteName=StaticDataSprites.spriteMetadata[spriteName],bgSize=(el.style.height=spriteName.height*scale+"px",el.style.width=spriteName.width*scale+"px",StaticDataSprites.totalWidth*scale+"px "+StaticDataSprites.totalHeight*scale+"px");el.style.backgroundSize=bgSize,el.style.backgroundPosition=spriteName.offsetX*scale+"px "+spriteName.offsetY*scale+"px"},GameBody.prototype.rescaleSpriteCube=function(el,scale){el.style.height=30*scale+"px",el.style.width=30*scale+"px";var spritesheetSize=312*scale+"px "+302.4*scale+"px",spritesheetSize=(el.style.backgroundSize=spritesheetSize,el.style.maskSize=spritesheetSize,-276*scale+"px "+-121.2*scale+"px");el.style.backgroundPosition=spritesheetSize,el.style.maskPosition=spritesheetSize},GameBody.prototype.tintSprite=function(el,color){el.style.backgroundBlendMode="multiply",el.style.backgroundColor=color},GameBody.prototype.format_string_recursive=function(log,args){var lastLog;for(console.log("XXX:",args);lastLog=log,(log=this.inherited(arguments))!==lastLog;);return this.replaceLogEntities(log)},GameBody.prototype.replaceLogEntities=function(log){return log.replace(/:([a-z0-9-_]+)=([a-z0-9-_]+?):/g,function(_m,_entityType,entityName){return console.log("match parts: ",_m,_entityType,entityName),entityName.charAt(0).toUpperCase()+entityName.slice(1)})},GameBody.prototype.updateSelectables=function(inputArgs){var _this=this;switch(console.log("*** updateSelectables()"),document.querySelectorAll(".ewc_selectable").forEach(function(el){el.classList.remove("ewc_selectable")}),document.querySelectorAll(".ewc_unselectable").forEach(function(el){el.classList.remove("ewc_unselectable")}),document.querySelectorAll(".ewc_selected").forEach(function(el){el.classList.remove("ewc_selected")}),inputArgs.inputType){case"inputtype:location":console.log("  *** inputtype:location");for(var _i=0,_a=inputArgs.choices;_i<_a.length;_i++){var id=_a[_i];document.querySelector(".ewc_setloc_location_"+id+" .ewc_setloc_setloc_wrap").classList.add("ewc_selectable")}document.querySelectorAll(".ewc_setloc_setloc_wrap:not(.ewc_selectable)").forEach(function(el){el.classList.add("ewc_unselectable")});break;case"inputtype:card":console.log("  *** inputtype:card",inputArgs),this.placeAndWipeIn(this.format_block("jstpl_promptarea",{}),"ewc_promptarea_wrap");for(var this_3=this,_b=0,_c=Object.values(inputArgs.choices);_b<_c.length;_b++)!function(_card){var card=_card,_card=card.visible?card.cardType:"back",parentEl=document.querySelector(".ewc_promptarea .ewc_promptarea_choices"),_card=dojo.place(this_3.format_block("jstpl_prompt_card",{cardType:_card,id:card.id}),parentEl);this_3.rescaleSprite(_card,.35),_card.classList.add("ewc_selectable"),dojo.connect(_card,"onclick",this_3,function(evt){_this.onClickCard(evt,card.id)})}(_c[_b]);break;case"inputtype:effort-pile":console.log("  *** inputtype:effort-pile");for(var _d=0,_e=inputArgs.choices;_d<_e.length;_d++){id=_e[_d];document.querySelector("#ewc_effort_counter_"+id).classList.add("ewc_selectable")}document.querySelectorAll(".ewc_effort_counter:not(.ewc_selectable)").forEach(function(el){el.classList.add("ewc_unselectable")});break;default:throw new Error("Unexpected input type: "+inputArgs.inputType)}},GameBody.prototype.onClickLocation=function(evt,locationId){console.log("onClickLocation",evt),null!==this.inputArgs&&"inputtype:location"===this.inputArgs.inputType&&this.inputArgs.choices.includes(locationId)&&(document.querySelectorAll(".ewc_selected").forEach(function(el){el.classList.remove("ewc_selected")}),evt.currentTarget.classList.add("ewc_selected"),this.selectedLocation=locationId,this.triggerUpdateActionButtons())},GameBody.prototype.onClickEffortPile=function(evt,pileId){console.log("onClickEffortPile",evt),console.log("  clicked pile = "+pileId+"; choices = ",this.inputArgs.choices),null!==this.inputArgs&&"inputtype:effort-pile"===this.inputArgs.inputType&&this.inputArgs.choices.includes(pileId)&&(document.querySelectorAll(".ewc_selected").forEach(function(el){el.classList.remove("ewc_selected")}),evt.currentTarget.classList.add("ewc_selected"),this.selectedEffortPile=pileId,this.triggerUpdateActionButtons())},GameBody.prototype.onClickCard=function(evt,cardId){console.log("onClickCard",evt),null!==this.inputArgs&&"inputtype:card"===this.inputArgs.inputType&&this.inputArgs.choices.map(function(card){return card.id}).includes(cardId)&&(document.querySelectorAll(".ewc_selected").forEach(function(el){el.classList.remove("ewc_selected")}),evt.currentTarget.classList.add("ewc_selected"),this.selectedCard=cardId,this.triggerUpdateActionButtons())},GameBody.prototype.onEnteringState=function(stateName,args){switch(console.log("Entering state",stateName,args),_super.prototype.onEnteringState.call(this,stateName,args),null!==args&&null!==args.args&&this.applyState(args.args.mutableBoardState,args.args._private),stateName){case"stInput":this.isCurrentPlayerActive()&&(console.log("*** stInput: ",args),this.inputArgs=args.args.input,this.updateSelectables(args.args.input));break;case"stPostScoring":console.log("*** stPostScoring: ",args)}},GameBody.prototype.onLeavingState=function(stateName){var _this=this;console.log("Leaving state: "+stateName),_super.prototype.onLeavingState.call(this,stateName),this.inputArgs=null,document.querySelectorAll(".ewc_promptarea").forEach(function(el){_this.wipeOutAndDestroy(el)})},GameBody.prototype.onUpdateActionButtons=function(stateName,args){var _this=this;if(console.log("onUpdateActionButtons()",stateName,args),this.isCurrentPlayerActive()&&"stInput"===stateName){this.addActionButton("btn_input_confirm",_("Confirm"),function(){var rpcParam=null;switch(_this.inputArgs.inputType){case"inputtype:location":rpcParam={selection:JSON.stringify({inputType:"inputtype:location",value:_this.selectedLocation})};break;case"inputtype:card":rpcParam={selection:JSON.stringify({inputType:"inputtype:card",value:_this.selectedCard})};break;case"inputtype:effort-pile":rpcParam={selection:JSON.stringify({inputType:"inputtype:effort-pile",value:_this.selectedEffortPile})};break;default:throw new Error("Unexpected input type.")}console.log("confirmed!",rpcParam),_this.ajaxCallWrapper("actSelectInput",rpcParam)},void 0,void 0,"blue");var confirmReady=!1;if(null!==this.inputArgs)switch(this.inputArgs.inputType){case"inputtype:location":confirmReady=null!==this.selectedLocation;break;case"inputtype:card":confirmReady=null!==this.selectedCard;break;case"inputtype:effort-pile":confirmReady=null!==this.selectedEffortPile;break;default:throw new Error("Unexpected input type.")}confirmReady||dojo.addClass("btn_input_confirm","disabled")}},GameBody.prototype.setupNotifications=function(){console.log("notifications subscriptions setup")},GameBody}(GameBasics),StaticDataCards=(console.log("*** top of GameEntrypoint.ts"),define(["dojo","dojo/_base/declare","ebg/core/gamegui","ebg/counter","ebg/stock","ebg/zone"],function(_dojo,declare){return declare("bgagame.effortless",ebg.core.gamegui,new GameBody)}),function(){function StaticDataCards(){}return StaticDataCards.cardMetadata={attr_str_1:{title:"Strength +1"},attr_dex_1:{title:"Dexterity +1"},attr_con_1:{title:"Constitution +1"},attr_wis_1:{title:"Wisdom +1"},attr_int_1:{title:"Intelligence +1"},attr_cha_1:{title:"Charisma +1"},attr_str_2:{title:"Strength +2"},attr_dex_2:{title:"Dexterity +2"},attr_con_2:{title:"Constitution +2"},attr_wis_2:{title:"Wisdom +2"},attr_int_2:{title:"Intelligence +2"},attr_cha_2:{title:"Charisma +2"},item_1:{title:"Silver Sword"},item_2:{title:"Compact Crossbow"},item_3:{title:"Poison Antidote"},item_4:{title:"Binding Rope"},item_5:{title:"Phantom Lantern"},item_6:{title:"Loaded Dice"},item_7:{title:"Handy Cannon"},item_8:{title:"Reflective Shield"},item_9:{title:"Awakened Artifact"},item_10:{title:"Wooden Stake"},item_11:{title:"Glacial Spear"},item_12:{title:"Sea Trident"},item_13:{title:"Iron Horseshoes"},item_14:{title:"Holy Water"},item_15:{title:"Explosive Trap"},item_16:{title:"Woven Net"},item_17:{title:"Hypnotic Flute"},item_18:{title:"Crystal Goggles"},item_19:{title:"Burning Torch"},item_20:{title:"Music Box"},item_21:{title:"Cheese Wheel"},armor_mage_head:{title:"Armor: mage head"},armor_mage_chest:{title:"Armor: mage chest"},armor_mage_hands:{title:"Armor: mage hands"},armor_mage_feet:{title:"Armor: mage feet"},armor_plate_head:{title:"Armor: plate head"},armor_plate_chest:{title:"Armor: plate chest"},armor_plate_hands:{title:"Armor: plate hands"},armor_plate_feet:{title:"Armor: plate feet"},armor_leather_head:{title:"Armor: leather head"},armor_leather_chest:{title:"Armor: leather chest"},armor_leather_hands:{title:"Armor: leather hands"},armor_leather_feet:{title:"Armor: leather feet"},armor_obsidian_head:{title:"Armor: obsidian head"},armor_obsidian_chest:{title:"Armor: obsidian chest"},armor_obsidian_hands:{title:"Armor: obsidian hands"},armor_obsidian_feet:{title:"Armor: obsidian feet"},armor_scale_head:{title:"Armor: scale head"},armor_scale_chest:{title:"Armor: scale chest"},armor_scale_hands:{title:"Armor: scale hands"},armor_scale_feet:{title:"Armor: scale feet"},armor_assassin_head:{title:"Armor: assassin head"},armor_assassin_chest:{title:"Armor: assassin chest"},armor_assassin_hands:{title:"Armor: assassin hands"},armor_assassin_feet:{title:"Armor: assassin feet"},xp:{title:"Experience"},grit:{title:"Grit"}},StaticDataCards}()),StaticDataSetlocs=function(){function StaticDataSetlocs(){}return StaticDataSetlocs.locationMetadata={coliseum:{name:"Coliseum",text:"Take one card from here and discard the other."},library:{name:"Library",text:"View both cards here and take 1.  Replace the missing card face-down."},market:{name:"Market",text:"Discard a card from your hand and take both cards here."},cave:{name:"Cave",text:""},river:{name:"River",text:"Discard a card at another location."},prison:{name:"Prison",text:"Move another player’s effort from any other location to here."},tunnels:{name:"Tunnels",text:"Move another player’s effort from here to any other location."},city:{name:"City",text:"Move one of your effort from any other location to here."},wasteland:{name:"Wasteland",text:""},docks:{name:"Docks",text:"Move one of your effort from here to any other location."},temple:{name:"Temple",text:"Discard a card from your hand to take the top 2 cards from the deck."},crypt:{name:"Crypt",text:"Take 1 of the top 2 cards from the discard."},tundra:{name:"Tundra",text:"Once all players have placed half of their effort, replace this location at random."}},StaticDataSetlocs.settingMetadata={active:{name:"Active",text:"Most here gains 4 points."},crowded:{name:"Crowded",text:"Gain 10 points if you have at least 5 effort here."},lively:{name:"Lively",text:"Gain 1 point for each effort here."},peaceful:{name:"Peaceful",text:"Gain 3 points for every 2 effort here."},battling:{name:"Battling",text:"Most here gains 8 points."},barren:{name:"Barren",text:""},hidden:{name:"Hidden",text:"Least here loses 5 points."},treacherous:{name:"Treacherous",text:"Lose 1 point for each effort here."},quiet:{name:"Quiet",text:"Most here loses 5 points."},eerie:{name:"Eerie",text:"Least here gains 5 points."},holy:{name:"Holy",text:"Most here gains 2 points for each effort."},ghostly:{name:"Ghostly",text:"Lose 2 points for every 2 effort here."},frozen:{name:"Frozen",text:"Once all players have placed half of their effort, replace this setting at random."}},StaticDataSetlocs}(),StaticDataSprites=function(){function StaticDataSprites(){}return StaticDataSprites.totalWidth=3517.2,StaticDataSprites.totalHeight=3328.2,StaticDataSprites.spriteMetadata={card_armor_assassin_chest:{width:233.4,height:363.6,offsetX:0,offsetY:0},card_armor_assassin_feet:{width:233.4,height:363.6,offsetX:-233.4,offsetY:0},card_armor_assassin_hands:{width:233.4,height:363.6,offsetX:-466.8,offsetY:0},card_armor_assassin_head:{width:233.4,height:363.6,offsetX:-700.2,offsetY:0},card_armor_leather_chest:{width:233.4,height:363.6,offsetX:0,offsetY:-363.6},card_armor_leather_feet:{width:233.4,height:363.6,offsetX:-233.4,offsetY:-363.6},card_armor_leather_hands:{width:233.4,height:363.6,offsetX:-466.8,offsetY:-363.6},card_armor_leather_head:{width:233.4,height:363.6,offsetX:-700.2,offsetY:-363.6},card_armor_mage_chest:{width:233.4,height:363.6,offsetX:-933.6,offsetY:0},card_armor_mage_feet:{width:233.4,height:363.6,offsetX:-933.6,offsetY:-363.6},card_armor_mage_hands:{width:233.4,height:363.6,offsetX:0,offsetY:-727.2},card_armor_mage_head:{width:233.4,height:363.6,offsetX:-233.4,offsetY:-727.2},card_armor_obsidian_chest:{width:233.4,height:363.6,offsetX:-466.8,offsetY:-727.2},card_armor_obsidian_feet:{width:233.4,height:363.6,offsetX:-700.2,offsetY:-727.2},card_armor_obsidian_hands:{width:233.4,height:363.6,offsetX:-933.6,offsetY:-727.2},card_armor_obsidian_head:{width:233.4,height:363.6,offsetX:-1167,offsetY:0},card_armor_plate_chest:{width:233.4,height:363.6,offsetX:-1167,offsetY:-363.6},card_armor_plate_feet:{width:233.4,height:363.6,offsetX:-1167,offsetY:-727.2},card_armor_plate_hands:{width:233.4,height:363.6,offsetX:-1400.4,offsetY:0},card_armor_plate_head:{width:233.4,height:363.6,offsetX:-1400.4,offsetY:-363.6},card_armor_scale_chest:{width:233.4,height:363.6,offsetX:-1400.4,offsetY:-727.2},card_armor_scale_feet:{width:233.4,height:363.6,offsetX:0,offsetY:-1090.8},card_armor_scale_hands:{width:233.4,height:363.6,offsetX:-233.4,offsetY:-1090.8},card_armor_scale_head:{width:233.4,height:363.6,offsetX:-466.8,offsetY:-1090.8},card_attr_cha_1:{width:233.4,height:363.6,offsetX:-700.2,offsetY:-1090.8},card_attr_cha_2:{width:233.4,height:363.6,offsetX:-933.6,offsetY:-1090.8},card_attr_con_1:{width:233.4,height:363.6,offsetX:-1167,offsetY:-1090.8},card_attr_con_2:{width:233.4,height:363.6,offsetX:-1400.4,offsetY:-1090.8},card_attr_dex_1:{width:233.4,height:363.6,offsetX:-1633.8,offsetY:0},card_attr_dex_2:{width:233.4,height:363.6,offsetX:-1633.8,offsetY:-363.6},card_attr_int_1:{width:233.4,height:363.6,offsetX:-1633.8,offsetY:-727.2},card_attr_int_2:{width:233.4,height:363.6,offsetX:-1633.8,offsetY:-1090.8},card_attr_str_1:{width:233.4,height:363.6,offsetX:0,offsetY:-1454.4},card_attr_str_2:{width:233.4,height:363.6,offsetX:-233.4,offsetY:-1454.4},card_attr_wis_1:{width:233.4,height:363.6,offsetX:-466.8,offsetY:-1454.4},card_attr_wis_2:{width:233.4,height:363.6,offsetX:-700.2,offsetY:-1454.4},card_back:{width:233.4,height:363.6,offsetX:-933.6,offsetY:-1454.4},card_dwarf:{width:233.4,height:363,offsetX:-2567.4,offsetY:-2181.6},card_elf:{width:233.4,height:363,offsetX:-2800.8,offsetY:0},card_exp:{width:233.4,height:363.6,offsetX:-1167,offsetY:-1454.4},card_fairy:{width:233.4,height:363,offsetX:-2800.8,offsetY:-363},card_gnome:{width:233.4,height:363,offsetX:-2800.8,offsetY:-726},card_goblin:{width:233.4,height:363,offsetX:-2800.8,offsetY:-1089},card_grit:{width:233.4,height:363.6,offsetX:-1400.4,offsetY:-1454.4},card_human:{width:233.4,height:363,offsetX:-2800.8,offsetY:-1452},card_item_1:{width:233.4,height:363.6,offsetX:-1633.8,offsetY:-1454.4},card_item_10:{width:233.4,height:363.6,offsetX:-1867.2,offsetY:0},card_item_11:{width:233.4,height:363.6,offsetX:-1867.2,offsetY:-363.6},card_item_12:{width:233.4,height:363.6,offsetX:-1867.2,offsetY:-727.2},card_item_13:{width:233.4,height:363.6,offsetX:-1867.2,offsetY:-1090.8},card_item_14:{width:233.4,height:363.6,offsetX:-1867.2,offsetY:-1454.4},card_item_15:{width:233.4,height:363.6,offsetX:-2100.6,offsetY:0},card_item_16:{width:233.4,height:363.6,offsetX:-2100.6,offsetY:-363.6},card_item_17:{width:233.4,height:363.6,offsetX:-2100.6,offsetY:-727.2},card_item_18:{width:233.4,height:363.6,offsetX:-2100.6,offsetY:-1090.8},card_item_19:{width:233.4,height:363.6,offsetX:-2100.6,offsetY:-1454.4},card_item_2:{width:233.4,height:363.6,offsetX:0,offsetY:-1818},card_item_20:{width:233.4,height:363.6,offsetX:-233.4,offsetY:-1818},card_item_21:{width:233.4,height:363.6,offsetX:-466.8,offsetY:-1818},card_item_3:{width:233.4,height:363.6,offsetX:-700.2,offsetY:-1818},card_item_4:{width:233.4,height:363.6,offsetX:-933.6,offsetY:-1818},card_item_5:{width:233.4,height:363.6,offsetX:-1167,offsetY:-1818},card_item_6:{width:233.4,height:363.6,offsetX:-1400.4,offsetY:-1818},card_item_7:{width:233.4,height:363.6,offsetX:-1633.8,offsetY:-1818},card_item_8:{width:233.4,height:363.6,offsetX:-1867.2,offsetY:-1818},card_item_9:{width:233.4,height:363.6,offsetX:-2100.6,offsetY:-1818},card_orc:{width:233.4,height:363,offsetX:-2800.8,offsetY:-1815},class_alchemist:{width:233.4,height:363,offsetX:-2800.8,offsetY:-2178},class_artificer:{width:233.4,height:363,offsetX:0,offsetY:-2545.2},class_barbarian:{width:233.4,height:363,offsetX:-233.4,offsetY:-2545.2},class_bard:{width:233.4,height:363,offsetX:-466.8,offsetY:-2545.2},class_cleric:{width:233.4,height:363,offsetX:-700.2,offsetY:-2545.2},class_druid:{width:233.4,height:363,offsetX:-933.6,offsetY:-2545.2},class_fighter:{width:233.4,height:363,offsetX:-1167,offsetY:-2545.2},class_merchant:{width:233.4,height:363,offsetX:-1400.4,offsetY:-2545.2},class_monk:{width:233.4,height:363,offsetX:-1633.8,offsetY:-2545.2},class_necromancer:{width:233.4,height:363,offsetX:-1867.2,offsetY:-2545.2},class_paladin:{width:233.4,height:363,offsetX:-2100.6,offsetY:-2545.2},class_ranger:{width:233.4,height:363,offsetX:-2334,offsetY:-2545.2},class_rogue:{width:233.4,height:363,offsetX:-2567.4,offsetY:-2545.2},class_wizard:{width:233.4,height:363,offsetX:-2800.8,offsetY:-2545.2},threat_threat_1:{width:233.4,height:363.6,offsetX:-2334,offsetY:0},threat_threat_10:{width:233.4,height:363.6,offsetX:-2334,offsetY:-363.6},threat_threat_11:{width:233.4,height:363.6,offsetX:-2334,offsetY:-727.2},threat_threat_12:{width:233.4,height:363.6,offsetX:-2334,offsetY:-1090.8},threat_threat_13:{width:233.4,height:363.6,offsetX:-2334,offsetY:-1454.4},threat_threat_14:{width:233.4,height:363.6,offsetX:-2334,offsetY:-1818},threat_threat_15:{width:233.4,height:363.6,offsetX:0,offsetY:-2181.6},threat_threat_16:{width:233.4,height:363.6,offsetX:-233.4,offsetY:-2181.6},threat_threat_17:{width:233.4,height:363.6,offsetX:-466.8,offsetY:-2181.6},threat_threat_18:{width:233.4,height:363.6,offsetX:-700.2,offsetY:-2181.6},threat_threat_19:{width:233.4,height:363.6,offsetX:-933.6,offsetY:-2181.6},threat_threat_2:{width:233.4,height:363.6,offsetX:-1167,offsetY:-2181.6},threat_threat_20:{width:233.4,height:363.6,offsetX:-1400.4,offsetY:-2181.6},threat_threat_21:{width:233.4,height:363.6,offsetX:-1633.8,offsetY:-2181.6},threat_threat_3:{width:233.4,height:363.6,offsetX:-1867.2,offsetY:-2181.6},threat_threat_4:{width:233.4,height:363.6,offsetX:-2100.6,offsetY:-2181.6},threat_threat_5:{width:233.4,height:363.6,offsetX:-2334,offsetY:-2181.6},threat_threat_6:{width:233.4,height:363.6,offsetX:-2567.4,offsetY:0},threat_threat_7:{width:233.4,height:363.6,offsetX:-2567.4,offsetY:-363.6},threat_threat_8:{width:233.4,height:363.6,offsetX:-2567.4,offsetY:-727.2},threat_threat_9:{width:233.4,height:363.6,offsetX:-2567.4,offsetY:-1090.8},threat_threat_back:{width:233.4,height:363.6,offsetX:-2567.4,offsetY:-1454.4},threat_threat_vacant:{width:233.4,height:363.6,offsetX:-2567.4,offsetY:-1818},location_cabin:{width:300,height:210,offsetX:-3034.2,offsetY:0},location_caravan:{width:300,height:210,offsetX:-3034.2,offsetY:-210},location_cave:{width:300,height:210,offsetX:-3034.2,offsetY:-420},location_city:{width:300,height:210,offsetX:-3034.2,offsetY:-630},location_coliseum:{width:300,height:210,offsetX:-3034.2,offsetY:-840},location_crypt:{width:300,height:210,offsetX:-3034.2,offsetY:-1050},location_docks:{width:300,height:210,offsetX:-3034.2,offsetY:-1260},location_dungeon:{width:300,height:210,offsetX:-3034.2,offsetY:-1470},location_forest:{width:300,height:210,offsetX:-3034.2,offsetY:-1680},location_garden:{width:300,height:210,offsetX:-3034.2,offsetY:-1890},location_laboratory:{width:300,height:210,offsetX:-3034.2,offsetY:-2100},location_labyrinth:{width:300,height:210,offsetX:-3034.2,offsetY:-2310},location_library:{width:300,height:210,offsetX:-3034.2,offsetY:-2520},location_market:{width:300,height:210,offsetX:0,offsetY:-2908.2},location_observatory:{width:300,height:210,offsetX:-300,offsetY:-2908.2},location_portal:{width:300,height:210,offsetX:-600,offsetY:-2908.2},location_prison:{width:300,height:210,offsetX:-900,offsetY:-2908.2},location_river:{width:300,height:210,offsetX:-1200,offsetY:-2908.2},location_stables:{width:300,height:210,offsetX:-1500,offsetY:-2908.2},location_temple:{width:300,height:210,offsetX:-1800,offsetY:-2908.2},location_tunnels:{width:300,height:210,offsetX:-2100,offsetY:-2908.2},location_wasteland:{width:300,height:210,offsetX:-2400,offsetY:-2908.2},setting_active:{width:183,height:210,offsetX:-2700,offsetY:-2908.2},setting_barren:{width:183,height:210,offsetX:-2883,offsetY:-2908.2},setting_battling:{width:183,height:210,offsetX:-3066,offsetY:-2908.2},setting_capable:{width:183,height:210,offsetX:0,offsetY:-3118.2},setting_corrupted:{width:183,height:210,offsetX:-183,offsetY:-3118.2},setting_crowded:{width:183,height:210,offsetX:-366,offsetY:-3118.2},setting_eerie:{width:183,height:210,offsetX:-549,offsetY:-3118.2},setting_equipped:{width:183,height:210,offsetX:-732,offsetY:-3118.2},setting_ghostly:{width:183,height:210,offsetX:-915,offsetY:-3118.2},setting_hidden:{width:183,height:210,offsetX:-1098,offsetY:-3118.2},setting_holy:{width:183,height:210,offsetX:-1281,offsetY:-3118.2},setting_lively:{width:183,height:210,offsetX:-1464,offsetY:-3118.2},setting_magical:{width:183,height:210,offsetX:-1647,offsetY:-3118.2},setting_nonexistent:{width:183,height:210,offsetX:-1830,offsetY:-3118.2},setting_overgrown:{width:183,height:210,offsetX:-2013,offsetY:-3118.2},setting_peaceful:{width:183,height:210,offsetX:-2196,offsetY:-3118.2},setting_quiet:{width:183,height:210,offsetX:-2379,offsetY:-3118.2},setting_secret:{width:183,height:210,offsetX:-2562,offsetY:-3118.2},setting_sheltered:{width:183,height:210,offsetX:-2745,offsetY:-3118.2},setting_starved:{width:183,height:210,offsetX:-2928,offsetY:-3118.2},setting_transcendent:{width:183,height:210,offsetX:-3111,offsetY:-3118.2},setting_traveling:{width:183,height:210,offsetX:-3334.2,offsetY:0},setting_treacherous:{width:183,height:210,offsetX:-3334.2,offsetY:-210}},StaticDataSprites}();